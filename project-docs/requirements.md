# 需求与功能文档 / Requirements & Features

## 功能需求 / Functional Requirements

### MVP核心功能 (Hackathon Scope)

#### 1. AI角色扮演引擎 / AI Roleplay Engine
- 支持多轮对话的AI买家模拟
- 内置企业买家角色（CTO、合规官等）
- 真实的企业云销售异议场景
- 中国/亚洲特定市场关注点
- 文字对话 + 语音对话（扩展）

#### 2. 可解释反馈引擎 / Explainable Feedback Engine
- 评估维度：
  - 价值表达 (Value Articulation)
  - 异议处理 (Objection Handling)
  - 技术清晰度 (Technical Clarity)
- 每个评分都有直接引用和简短解释
- 即时反馈，对话结束后立即生成

#### 3. 跟进邮件生成器 / Follow-Up Email Generator
- 基于对话上下文生成专业邮件
- 企业级安全、异议感知的跟进内容
- 可在使用前编辑
- 一键生成功能

#### 4. 场景工作室 / Scenario Studio
- 低代码管理界面
- 编辑买家角色、异议、理想答案
- 无需接触代码即可更新场景
- 场景分类和难度管理

#### 5. 轻量级Web应用 / Lightweight Web Application
- 场景选择界面
- 聊天界面
- 反馈展示视图
- 管理员编辑器

---

## 非功能需求 / Non-Functional Requirements

### 性能要求 / Performance
- AI响应时间 < 3秒
- 页面加载时间 < 2秒
- 支持并发用户数 ≥ 50

### 可用性 / Availability
- 系统可用性 ≥ 99%
- 演示期间零故障

### 安全性 / Security
- 用户数据加密存储
- API访问认证
- 敏感信息脱敏

### 可扩展性 / Scalability
- 模块化架构设计
- 支持水平扩展

---

## 明确排除范围 (Hackathon) / Explicitly Out of Scope

以下功能在黑客马拉松期间不实现：

1. ❌ 完整的LMS系统
2. ❌ CRM集成
3. ❌ 自动邮件发送
4. ❌ 深度分析仪表板
5. ❌ 多语言支持
6. ❌ 合作伙伴权限矩阵

这些是后期路线图项目。

---

## 用户故事 / User Stories

### 销售代表用户故事

**US-001**: 作为销售代表，我想选择一个销售场景进行练习，以便提高我的销售技能。

**US-002**: 作为销售代表，我想与AI买家进行多轮对话，以便模拟真实的客户会面。

**US-003**: 作为销售代表，我想在对话结束后获得详细的反馈，以便了解我的强项和改进点。

**US-004**: 作为销售代表，我想一键生成跟进邮件，以便节省撰写邮件的时间。

**US-005**: 作为销售代表，我想查看我的历史练习记录，以便追踪我的进步。

### 培训管理员用户故事

**US-101**: 作为培训管理员，我想创建和编辑销售场景，以便保持培训内容与产品更新同步。

**US-102**: 作为培训管理员，我想设置不同的买家角色，以便模拟各种客户类型。

**US-103**: 作为培训管理员，我想查看所有用户的练习统计，以便了解团队的就绪状态。

**US-104**: 作为培训管理员，我想管理场景的激活状态，以便控制哪些场景可供练习。

### 系统管理员用户故事

**US-201**: 作为系统管理员，我想管理用户账户，以便控制系统访问权限。

**US-202**: 作为系统管理员，我想查看系统使用统计，以便了解系统使用情况。

---

## 业务规则 / Business Rules

### BR-001: 场景访问控制
- 只有激活状态的场景可供用户选择
- 管理员可以查看所有场景（包括未激活的）

### BR-002: 反馈生成规则
- 对话至少需要3轮才能生成有效反馈
- 反馈必须包含用户回答的直接引用

### BR-003: 角色权限
- 普通用户：只能进行练习和查看自己的记录
- 培训管理员：可以管理场景和查看所有用户统计
- 系统管理员：拥有所有权限

### BR-004: 会话管理
- 同一用户同时只能有一个活跃会话
- 超过30分钟无活动的会话自动标记为"abandoned"

---

## 边缘情况处理 / Edge Cases

### EC-001: AI服务不可用
- 显示友好错误提示
- 提供重试选项
- 记录错误日志

### EC-002: 用户中途离开
- 保存对话状态
- 允许继续或重新开始

### EC-003: 网络连接中断
- 本地缓存最近消息
- 恢复连接后自动同步

### EC-004: 长文本输入
- 限制单次输入最大字符数（如2000字符）
- 显示字符计数提示

