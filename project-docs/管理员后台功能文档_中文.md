# Master Trainer 管理员后台功能文档

---

## 文档概述

本文档详细描述管理员后台的所有功能模块、界面设计和操作流程。

---

## 1. 后台入口与权限

### 1.1 访问路径
- URL: `/admin`
- 需要管理员权限登录

### 1.2 角色权限

| 角色 | 权限范围 |
|------|----------|
| 系统管理员 (Super Admin) | 全部功能 |
| 培训管理员 (Trainer Admin) | 场景管理、统计查看 |
| 内容编辑员 (Content Editor) | 仅场景内容编辑 |

---

## 2. 功能模块总览

```
管理后台
├── 仪表板 (Dashboard)
├── 场景管理 (Scenario Management)
│   ├── 场景列表
│   ├── 创建场景
│   ├── 编辑场景
│   └── 买家角色库
├── 用户管理 (User Management)
│   ├── 用户列表
│   ├── 用户详情
│   └── 权限管理
├── 统计分析 (Statistics)
│   ├── 使用概览
│   ├── 场景统计
│   └── 用户活跃度
└── 系统设置 (Settings)
    ├── 基础配置
    ├── AI参数
    └── 通知设置
```

---

## 3. 仪表板 (Dashboard)

### 3.1 功能描述
管理后台首页，提供系统整体运行状况的快速概览。

### 3.2 界面元素

#### 3.2.1 关键指标卡片

| 指标 | 描述 | 更新频率 |
|------|------|----------|
| 今日活跃用户 | 当日登录并进行练习的用户数 | 实时 |
| 今日练习次数 | 当日完成的角色扮演会话数 | 实时 |
| 活跃场景数 | 当前上线可用的场景数量 | 实时 |
| 平均反馈分数 | 近7天用户练习的平均得分 | 每日 |

#### 3.2.2 趋势图表

**练习趋势图**
- 类型：折线图
- 数据：近7天/30天的练习次数趋势
- 可切换：日/周/月视图

**分数分布图**
- 类型：柱状图
- 数据：用户得分分布（0-60, 60-70, 70-80, 80-90, 90-100）

#### 3.2.3 快捷操作

| 操作 | 功能 |
|------|------|
| + 创建场景 | 跳转到场景创建页面 |
| 查看所有用户 | 跳转到用户列表页面 |
| 导出报告 | 导出统计数据为Excel |

### 3.3 界面线框图

```
┌─────────────────────────────────────────────────────────────────┐
│  Master Trainer 管理后台                    [用户名] ▼  [登出]  │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐│
│  │ 今日活跃用户 │ │ 今日练习次数 │ │ 活跃场景数  │ │ 平均反馈分数 ││
│  │     128     │ │     456     │ │     12      │ │    75.3     ││
│  │   ↑ 12%    │ │   ↑ 8%     │ │     -      │ │   ↑ 2.1%   ││
│  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘│
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │                     练习趋势图                            │  │
│  │  ▁▂▃▄▅▆▇█                                               │  │
│  │  [日] [周] [月]                                          │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌────────────────────────┐  ┌────────────────────────────┐    │
│  │      分数分布          │  │       最近活动             │    │
│  │   █ 10%  0-60         │  │  • 张三 完成了"云迁移"场景 │    │
│  │   ██ 25% 60-70        │  │  • 李四 创建了新场景      │    │
│  │   ███ 35% 70-80       │  │  • 王五 获得了90分        │    │
│  │   ██ 20% 80-90        │  │  ...                      │    │
│  │   █ 10%  90-100       │  │                          │    │
│  └────────────────────────┘  └────────────────────────────┘    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. 场景管理 (Scenario Management)

### 4.1 场景列表

#### 4.1.1 功能描述
展示所有场景，支持搜索、筛选、排序和批量操作。

#### 4.1.2 列表字段

| 字段 | 说明 | 操作 |
|------|------|------|
| 场景名称 | 场景标题 | 点击进入详情 |
| 分类 | 场景所属分类 | 可筛选 |
| 难度 | 简单/中等/困难 | 可筛选 |
| 状态 | 上线/下线 | 可切换 |
| 练习次数 | 累计被练习次数 | 可排序 |
| 平均得分 | 该场景的平均得分 | 可排序 |
| 创建时间 | 场景创建时间 | 可排序 |
| 操作 | 编辑/复制/删除 | - |

#### 4.1.3 功能操作

| 操作 | 说明 |
|------|------|
| 搜索 | 按场景名称搜索 |
| 筛选 | 按分类、难度、状态筛选 |
| 排序 | 按练习次数、得分、时间排序 |
| 批量操作 | 批量上线/下线/删除 |
| 导出 | 导出场景数据为Excel |

#### 4.1.4 界面设计

```
┌─────────────────────────────────────────────────────────────────┐
│  场景管理                                        [+ 创建场景]   │
├─────────────────────────────────────────────────────────────────┤
│  [🔍 搜索场景...]  [分类 ▼] [难度 ▼] [状态 ▼]    [导出] [批量]  │
├─────────────────────────────────────────────────────────────────┤
│  □  场景名称          分类      难度    状态   练习数  平均分   │
│  ─────────────────────────────────────────────────────────────  │
│  □  云迁移方案销售    技术方案   中等   ● 上线   234    72.5    │
│  □  价格异议处理      异议处理   困难   ● 上线   189    68.3    │
│  □  合规性讨论        合规安全   中等   ○ 下线    45    75.1    │
│  □  竞品对比应对      竞争分析   困难   ● 上线   156    70.8    │
│  □  新客户开场        开场白     简单   ● 上线   312    78.2    │
├─────────────────────────────────────────────────────────────────┤
│  显示 1-5 共 12 条                          [<] 1 2 3 [>]       │
└─────────────────────────────────────────────────────────────────┘
```

### 4.2 创建/编辑场景

#### 4.2.1 表单字段

**基本信息**

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| 场景标题 | 文本 | ✓ | 场景的显示名称 |
| 场景描述 | 长文本 | ✓ | 场景的详细描述 |
| 分类 | 下拉选择 | ✓ | 选择场景分类 |
| 难度等级 | 单选 | ✓ | 简单/中等/困难 |
| 标签 | 多选标签 | - | 用于搜索和筛选 |

**买家角色设置**

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| 角色名称 | 文本 | ✓ | 买家的姓名 |
| 职位 | 文本 | ✓ | 买家的职位 |
| 公司类型 | 文本 | ✓ | 买家公司描述 |
| 背景介绍 | 长文本 | ✓ | 买家的背景信息 |
| 关注点 | 标签列表 | ✓ | 买家的主要关注点 |
| 性格特征 | 文本 | ✓ | 买家的性格描述 |

**异议设置**

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| 异议内容 | 文本 | ✓ | 买家可能提出的异议 |
| 理想回答 | 长文本 | ✓ | 推荐的应对方式 |
| 关键词 | 标签 | - | 评分参考关键词 |

**高级设置**

| 字段 | 类型 | 必填 | 说明 |
|------|------|------|------|
| 最大对话轮数 | 数字 | - | 默认8轮 |
| 评分权重 | 滑块 | - | 各维度评分权重 |
| 开场提示 | 文本 | - | 给用户的开场提示 |

#### 4.2.2 界面设计

```
┌─────────────────────────────────────────────────────────────────┐
│  创建新场景                                      [保存草稿] [发布]│
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [基本信息] [买家角色] [异议设置] [高级设置]                     │
│  ─────────────────────────────────────────────────────────────  │
│                                                                 │
│  基本信息                                                       │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 场景标题 *                                              │   │
│  │ [                                                    ]  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 场景描述 *                                              │   │
│  │ [                                                    ]  │   │
│  │ [                                                    ]  │   │
│  │ [                                                    ]  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌────────────────────────┐  ┌────────────────────────┐        │
│  │ 分类 *                 │  │ 难度等级 *             │        │
│  │ [选择分类...        ▼] │  │ ○ 简单 ○ 中等 ○ 困难   │        │
│  └────────────────────────┘  └────────────────────────┘        │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 标签                                                    │   │
│  │ [云迁移] [价格] [+ 添加标签]                            │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│                                                 [下一步: 买家角色]│
└─────────────────────────────────────────────────────────────────┘
```

### 4.3 买家角色库

#### 4.3.1 功能描述
管理可复用的买家角色模板，方便快速创建场景。

#### 4.3.2 预设角色

| 角色类型 | 职位 | 特征 |
|----------|------|------|
| 技术决策者 | CTO | 关注技术可行性、性能、安全 |
| 合规专家 | 合规总监 | 关注数据安全、合规性 |
| 采购负责人 | 采购经理 | 关注价格、ROI、合同条款 |
| 业务负责人 | VP | 关注业务价值、竞争优势 |

#### 4.3.3 操作功能

| 操作 | 说明 |
|------|------|
| 查看 | 查看角色详细信息 |
| 使用 | 在新场景中使用此角色 |
| 复制 | 复制并修改为新角色 |
| 编辑 | 编辑角色信息 |
| 删除 | 删除角色（需确认） |

---

## 5. 用户管理 (User Management)

### 5.1 用户列表

#### 5.1.1 列表字段

| 字段 | 说明 | 操作 |
|------|------|------|
| 用户名 | 用户显示名称 | 点击查看详情 |
| 邮箱 | 用户邮箱地址 | - |
| 角色 | 用户/管理员 | 可修改 |
| 部门 | 所属部门 | 可筛选 |
| 练习次数 | 累计练习次数 | 可排序 |
| 最后活跃 | 最后登录时间 | 可排序 |
| 状态 | 正常/禁用 | 可切换 |

#### 5.1.2 界面设计

```
┌─────────────────────────────────────────────────────────────────┐
│  用户管理                                        [+ 邀请用户]   │
├─────────────────────────────────────────────────────────────────┤
│  [🔍 搜索用户...]  [部门 ▼] [角色 ▼] [状态 ▼]    [导出]        │
├─────────────────────────────────────────────────────────────────┤
│  用户名       邮箱                角色    部门    练习   最后活跃 │
│  ─────────────────────────────────────────────────────────────  │
│  张三         zhangsan@ac.com    用户    销售部   45    2小时前  │
│  李四         lisi@ac.com        用户    技术部   32    1天前   │
│  王五         wangwu@ac.com      管理员   培训部   12    3小时前  │
├─────────────────────────────────────────────────────────────────┤
│  显示 1-3 共 156 条                         [<] 1 2 3 ... [>]   │
└─────────────────────────────────────────────────────────────────┘
```

### 5.2 用户详情

#### 5.2.1 信息展示

**基本信息**
- 头像、用户名、邮箱
- 部门、角色、注册时间
- 状态、最后登录时间

**练习统计**
- 总练习次数
- 平均得分
- 最常练习的场景
- 得分趋势图

**练习历史**
- 最近练习记录列表
- 可查看每次练习的详情和反馈

#### 5.2.2 管理操作

| 操作 | 说明 |
|------|------|
| 编辑信息 | 修改用户基本信息 |
| 修改角色 | 升级/降级用户权限 |
| 重置密码 | 发送密码重置邮件 |
| 禁用账户 | 暂停用户访问 |
| 删除账户 | 永久删除用户（需确认） |

---

## 6. 统计分析 (Statistics)

### 6.1 使用概览

#### 6.1.1 关键指标

| 指标 | 说明 | 图表类型 |
|------|------|----------|
| DAU | 日活跃用户数 | 折线图 |
| 练习完成数 | 每日完成的练习数 | 柱状图 |
| 平均得分 | 每日平均得分 | 折线图 |
| 平均练习时长 | 每日平均练习时长 | 折线图 |

#### 6.1.2 时间维度

- 今日 / 昨日
- 近7天 / 近30天 / 近90天
- 自定义日期范围

### 6.2 场景统计

#### 6.2.1 场景排行

**按练习次数排行**

| 排名 | 场景 | 练习次数 | 平均得分 |
|------|------|----------|----------|
| 1 | 新客户开场 | 312 | 78.2 |
| 2 | 云迁移方案 | 234 | 72.5 |
| 3 | 价格异议处理 | 189 | 68.3 |

**按得分排行**

| 排名 | 场景 | 平均得分 | 练习次数 |
|------|------|----------|----------|
| 1 | 新客户开场 | 78.2 | 312 |
| 2 | 合规性讨论 | 75.1 | 45 |
| 3 | 云迁移方案 | 72.5 | 234 |

### 6.3 用户活跃度

#### 6.3.1 活跃度分布

| 分类 | 定义 | 数量 |
|------|------|------|
| 高活跃 | 每周3次以上 | 45 |
| 中活跃 | 每周1-3次 | 78 |
| 低活跃 | 每月1-4次 | 23 |
| 不活跃 | 超过30天未练习 | 10 |

#### 6.3.2 导出功能

- 导出用户活跃度报告
- 导出场景使用报告
- 导出综合分析报告
- 支持Excel和PDF格式

---

## 7. 系统设置 (Settings)

### 7.1 基础配置

| 设置项 | 说明 | 默认值 |
|--------|------|--------|
| 系统名称 | 显示在页面标题 | Master Trainer |
| 系统Logo | 上传自定义Logo | 默认Logo |
| 登录方式 | 支持的登录方式 | 钉钉/邮箱 |
| 会话超时 | 无操作自动登出时间 | 30分钟 |

### 7.2 AI参数配置

| 参数 | 说明 | 默认值 |
|------|------|--------|
| 最大对话轮数 | 单次练习最大轮数 | 8 |
| AI响应温度 | 控制AI回复的随机性 | 0.7 |
| 最大Token数 | 单次回复最大长度 | 2000 |
| 超时时间 | AI响应超时时间 | 30秒 |

### 7.3 通知设置

| 通知类型 | 说明 | 默认状态 |
|----------|------|----------|
| 新用户注册 | 有新用户注册时通知 | 开启 |
| 场景更新 | 场景被修改时通知 | 开启 |
| 系统异常 | 系统出现错误时通知 | 开启 |
| 周报邮件 | 每周发送使用报告 | 开启 |

---

## 8. 操作日志

### 8.1 日志记录

| 记录内容 | 说明 |
|----------|------|
| 操作时间 | 操作发生的时间 |
| 操作人 | 执行操作的管理员 |
| 操作类型 | 创建/编辑/删除/登录等 |
| 操作对象 | 被操作的资源 |
| 操作详情 | 具体的操作内容 |
| IP地址 | 操作来源IP |

### 8.2 日志查询

- 按时间范围查询
- 按操作人查询
- 按操作类型查询
- 支持导出日志

---

## 9. API接口文档

### 9.1 管理后台API

#### 场景管理

```
GET    /api/admin/scenarios          - 获取场景列表
POST   /api/admin/scenarios          - 创建场景
GET    /api/admin/scenarios/:id      - 获取场景详情
PUT    /api/admin/scenarios/:id      - 更新场景
DELETE /api/admin/scenarios/:id      - 删除场景
PUT    /api/admin/scenarios/:id/status - 切换场景状态
```

#### 用户管理

```
GET    /api/admin/users              - 获取用户列表
GET    /api/admin/users/:id          - 获取用户详情
PUT    /api/admin/users/:id          - 更新用户信息
PUT    /api/admin/users/:id/role     - 修改用户角色
DELETE /api/admin/users/:id          - 删除用户
POST   /api/admin/users/invite       - 邀请用户
```

#### 统计分析

```
GET    /api/admin/statistics/overview    - 获取概览数据
GET    /api/admin/statistics/scenarios   - 获取场景统计
GET    /api/admin/statistics/users       - 获取用户统计
GET    /api/admin/statistics/export      - 导出统计报告
```

#### 系统设置

```
GET    /api/admin/settings           - 获取系统设置
PUT    /api/admin/settings           - 更新系统设置
GET    /api/admin/logs               - 获取操作日志
```

---

*文档版本：1.0*
*最后更新：2026-01-12*

